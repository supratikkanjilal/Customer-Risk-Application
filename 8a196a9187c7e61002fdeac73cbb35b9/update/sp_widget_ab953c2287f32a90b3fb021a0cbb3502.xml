<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_widget">
    <sp_widget action="INSERT_OR_UPDATE">
        <category>custom</category>
        <client_script><![CDATA[function($scope, $http) {
  $scope.c = this;

  $scope.c.setFilter = function(filter) {
    $scope.server.update({filter: filter});
  };
}
]]></client_script>
        <controller_as>c</controller_as>
        <css/>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>true</has_preview>
        <id>reminder_log_list</id>
        <internal>false</internal>
        <link><![CDATA[function link(scope, element, attrs, controller) {  }]]></link>
        <name>Reminder Log List</name>
        <option_schema/>
        <public>false</public>
        <roles/>
        <script><![CDATA[(function() {
    var filter = (input && input.filter) ? input.filter : 'today';
    var gr = new GlideRecord('x_cpszo_spoke_reminder_log');

    if (filter === 'today') {
        gr.addQuery('reminder_schedule', '>=', gs.beginningOfToday());
        gr.addQuery('reminder_schedule', '<=', gs.endOfToday());
    } else if (filter === 'pending') {
        gr.addQuery('status', 'pending');
    } else if (filter === 'failed') {
        gr.addQuery('status', 'failed');
    }

    gr.query();
    data.reminders = [];
    while (gr.next()) {
        data.reminders.push({
            sys_id: gr.getValue('sys_id'),
            number: gr.getDisplayValue('number'),
            reminder_status: gr.getValue('reminder_status'),
            reminder_schedule: gr.getDisplayValue('reminder_schedule')
        });
    }
})();
]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>brijesh.banerjee</sys_created_by>
        <sys_created_on>2025-09-08 05:04:31</sys_created_on>
        <sys_id>ab953c2287f32a90b3fb021a0cbb3502</sys_id>
        <sys_mod_count>2</sys_mod_count>
        <sys_name>Reminder Log List</sys_name>
        <sys_package display_value="Spoke" source="x_cpszo_spoke">8a196a9187c7e61002fdeac73cbb35b9</sys_package>
        <sys_policy/>
        <sys_scope display_value="Spoke">8a196a9187c7e61002fdeac73cbb35b9</sys_scope>
        <sys_update_name>sp_widget_ab953c2287f32a90b3fb021a0cbb3502</sys_update_name>
        <sys_updated_by>brijesh.banerjee</sys_updated_by>
        <sys_updated_on>2025-09-08 05:09:43</sys_updated_on>
        <template><![CDATA[<div>
  <div class="btn-group">
    <button class="btn btn-default" ng-click="c.setFilter('today')">Today</button>
    <button class="btn btn-default" ng-click="c.setFilter('pending')">Pending</button>
    <button class="btn btn-default" ng-click="c.setFilter('failed')">Failed</button>
  </div>

  <table class="table table-striped">
    <thead>
      <tr>
        <th>Name</th>
        <th>Status</th>
        <th>Reminder Date</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="item in data.reminders">
        <td>{{item.name}}</td>
        <td>{{item.status}}</td>
        <td>{{item.reminder_date}}</td>
      </tr>
    </tbody>
  </table>
</div>
]]></template>
    </sp_widget>
</record_update>
